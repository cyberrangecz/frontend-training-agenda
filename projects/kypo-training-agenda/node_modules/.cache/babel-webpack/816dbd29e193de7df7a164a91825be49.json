{"ast":null,"code":"import { asyncData } from '@sentinel/common';\nimport { TrainingDefinitionEditOverviewMaterialModule } from '../../../definition-edit/src/components/training-definition-edit-overview-material.module';\nimport { TrainingPreviewComponent } from './training-preview.component';\nimport { TestBed, async } from '@angular/core/testing';\nimport { GameLevel, AssessmentLevel, InfoLevel, TrainingDefinition } from '@muni-kypo-crp/training-model';\nimport { RunningTrainingRunService } from '../../../internal/src/services/training-run/running/running-training-run.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { createActivatedRouteSpy, createRunningTrainingRunServiceSpy } from '../../../internal/src/testing/testing-commons.spec';\nimport { TrainingDefinitionApi } from '@muni-kypo-crp/training-api';\ndescribe('TrainingPreviewComponent', () => {\n  let component;\n  let fixture;\n  let previewServiceSpy;\n  let activeRouteSpy;\n  beforeEach(async(() => {\n    previewServiceSpy = createRunningTrainingRunServiceSpy();\n    activeRouteSpy = createActivatedRouteSpy();\n    activeRouteSpy.data = asyncData({\n      trainingDefinition: createMock()\n    });\n    TestBed.configureTestingModule({\n      imports: [TrainingDefinitionEditOverviewMaterialModule],\n      declarations: [TrainingPreviewComponent],\n      providers: [{\n        provide: RunningTrainingRunService,\n        useValue: previewServiceSpy\n      }, {\n        provide: ActivatedRoute,\n        useValue: activeRouteSpy\n      }, TrainingDefinitionApi]\n    }).compileComponents();\n  }));\n  beforeEach(() => {\n    fixture = TestBed.createComponent(TrainingPreviewComponent);\n    component = fixture.componentInstance;\n    fixture.detectChanges();\n  });\n  it('should create', () => {\n    expect(component).toBeTruthy();\n  });\n\n  function createMock() {\n    const td = new TrainingDefinition();\n    td.id = 2;\n    td.title = 'TD 2';\n    td.levels = createLevelsMock();\n    td.description = '';\n    td.prerequisites = [];\n    return td;\n  }\n\n  function createLevelsMock() {\n    const level1 = new GameLevel();\n    const level2 = new AssessmentLevel();\n    const level3 = new InfoLevel();\n    return [level1, level2, level3];\n  }\n});","map":{"version":3,"sources":["/home/dominik/Desktop/Workspace/FRONTEND/kypo-training-agenda/projects/kypo-training-agenda/definition-preview/src/components/training-preview.component.spec.ts"],"names":[],"mappings":"AAAA,SAAS,SAAT,QAA0B,kBAA1B;AACA,SAAS,4CAAT,QAA6D,2FAA7D;AACA,SAAS,wBAAT,QAAyC,8BAAzC;AACA,SAAS,OAAT,EAAoC,KAApC,QAAiD,uBAAjD;AACA,SAAgB,SAAhB,EAA2B,eAA3B,EAA4C,SAA5C,EAAuD,kBAAvD,QAAiF,+BAAjF;AACA,SAAS,yBAAT,QAA0C,kFAA1C;AACA,SAAS,cAAT,QAA+B,iBAA/B;AACA,SACE,uBADF,EAEE,kCAFF,QAGO,oDAHP;AAIA,SAAS,qBAAT,QAAsC,6BAAtC;AAEA,QAAQ,CAAC,0BAAD,EAA6B,MAAK;AACxC,MAAI,SAAJ;AACA,MAAI,OAAJ;AAEA,MAAI,iBAAJ;AACA,MAAI,cAAJ;AAEA,EAAA,UAAU,CAAC,KAAK,CAAC,MAAK;AACpB,IAAA,iBAAiB,GAAG,kCAAkC,EAAtD;AACA,IAAA,cAAc,GAAG,uBAAuB,EAAxC;AACA,IAAA,cAAc,CAAC,IAAf,GAAsB,SAAS,CAAC;AAAE,MAAA,kBAAkB,EAAE,UAAU;AAAhC,KAAD,CAA/B;AACA,IAAA,OAAO,CAAC,sBAAR,CAA+B;AAC7B,MAAA,OAAO,EAAE,CAAC,4CAAD,CADoB;AAE7B,MAAA,YAAY,EAAE,CAAC,wBAAD,CAFe;AAG7B,MAAA,SAAS,EAAE,CACT;AAAE,QAAA,OAAO,EAAE,yBAAX;AAAsC,QAAA,QAAQ,EAAE;AAAhD,OADS,EAET;AAAE,QAAA,OAAO,EAAE,cAAX;AAA2B,QAAA,QAAQ,EAAE;AAArC,OAFS,EAGT,qBAHS;AAHkB,KAA/B,EAQG,iBARH;AASD,GAbe,CAAN,CAAV;AAeA,EAAA,UAAU,CAAC,MAAK;AACd,IAAA,OAAO,GAAG,OAAO,CAAC,eAAR,CAAwB,wBAAxB,CAAV;AACA,IAAA,SAAS,GAAG,OAAO,CAAC,iBAApB;AACA,IAAA,OAAO,CAAC,aAAR;AACD,GAJS,CAAV;AAMA,EAAA,EAAE,CAAC,eAAD,EAAkB,MAAK;AACvB,IAAA,MAAM,CAAC,SAAD,CAAN,CAAkB,UAAlB;AACD,GAFC,CAAF;;AAIA,WAAS,UAAT,GAAmB;AACjB,UAAM,EAAE,GAAG,IAAI,kBAAJ,EAAX;AACA,IAAA,EAAE,CAAC,EAAH,GAAQ,CAAR;AACA,IAAA,EAAE,CAAC,KAAH,GAAW,MAAX;AACA,IAAA,EAAE,CAAC,MAAH,GAAY,gBAAgB,EAA5B;AACA,IAAA,EAAE,CAAC,WAAH,GAAiB,EAAjB;AACA,IAAA,EAAE,CAAC,aAAH,GAAmB,EAAnB;AACA,WAAO,EAAP;AACD;;AAED,WAAS,gBAAT,GAAyB;AACvB,UAAM,MAAM,GAAG,IAAI,SAAJ,EAAf;AACA,UAAM,MAAM,GAAG,IAAI,eAAJ,EAAf;AACA,UAAM,MAAM,GAAG,IAAI,SAAJ,EAAf;AACA,WAAO,CAAC,MAAD,EAAS,MAAT,EAAiB,MAAjB,CAAP;AACD;AACF,CAhDO,CAAR","sourcesContent":["import { asyncData } from '@sentinel/common';\nimport { TrainingDefinitionEditOverviewMaterialModule } from '../../../definition-edit/src/components/training-definition-edit-overview-material.module';\nimport { TrainingPreviewComponent } from './training-preview.component';\nimport { TestBed, ComponentFixture, async } from '@angular/core/testing';\nimport { Level, GameLevel, AssessmentLevel, InfoLevel, TrainingDefinition } from '@muni-kypo-crp/training-model';\nimport { RunningTrainingRunService } from '../../../internal/src/services/training-run/running/running-training-run.service';\nimport { ActivatedRoute } from '@angular/router';\nimport {\n  createActivatedRouteSpy,\n  createRunningTrainingRunServiceSpy,\n} from '../../../internal/src/testing/testing-commons.spec';\nimport { TrainingDefinitionApi } from '@muni-kypo-crp/training-api';\n\ndescribe('TrainingPreviewComponent', () => {\n  let component: TrainingPreviewComponent;\n  let fixture: ComponentFixture<TrainingPreviewComponent>;\n\n  let previewServiceSpy: jasmine.SpyObj<RunningTrainingRunService>;\n  let activeRouteSpy: jasmine.SpyObj<ActivatedRoute>;\n\n  beforeEach(async(() => {\n    previewServiceSpy = createRunningTrainingRunServiceSpy();\n    activeRouteSpy = createActivatedRouteSpy();\n    activeRouteSpy.data = asyncData({ trainingDefinition: createMock() });\n    TestBed.configureTestingModule({\n      imports: [TrainingDefinitionEditOverviewMaterialModule],\n      declarations: [TrainingPreviewComponent],\n      providers: [\n        { provide: RunningTrainingRunService, useValue: previewServiceSpy },\n        { provide: ActivatedRoute, useValue: activeRouteSpy },\n        TrainingDefinitionApi,\n      ],\n    }).compileComponents();\n  }));\n\n  beforeEach(() => {\n    fixture = TestBed.createComponent(TrainingPreviewComponent);\n    component = fixture.componentInstance;\n    fixture.detectChanges();\n  });\n\n  it('should create', () => {\n    expect(component).toBeTruthy();\n  });\n\n  function createMock(): TrainingDefinition {\n    const td = new TrainingDefinition();\n    td.id = 2;\n    td.title = 'TD 2';\n    td.levels = createLevelsMock();\n    td.description = '';\n    td.prerequisites = [];\n    return td;\n  }\n\n  function createLevelsMock(): Level[] {\n    const level1 = new GameLevel();\n    const level2 = new AssessmentLevel();\n    const level3 = new InfoLevel();\n    return [level1, level2, level3];\n  }\n});\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}